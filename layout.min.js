(function(f){function x(a,b,c){for(var d=0,e=c.length;d<e;d++)f.isFunction(c[d][a])&&c[d][a].call(c[d],b)}function t(a,b){x("preLayout",a,b);for(var c=0,d=b.length;c<d;c++){var e=b[c].layout.children;e&&e.length&&t(a,e)}x("postLayout",a,b)}function B(a,b){x("updateLayout",a,b);for(var c=0,d=b.length;c<d;c++){var e=b[c].layout.children;e&&e.length&&B(a,e)}}function h(a){a={force:a};q&&(l.css("overflow-y",q),q=null);r&&(l.css("overflow-x",r),r=null);var b=m.innerWidth(),c=m.innerHeight();t(a,n);var d=
m.innerWidth(),e=m.innerHeight();if(b!=d||c!=e)if(t(a,n),b=m.innerWidth(),c=m.innerHeight(),d!=b||e!=c){if(C||e!=c)r=l.css("overflow-x"),"hidden"!=r&&l.css("overflow-x","scroll");if(C||d!=b)q=l.css("overflow-y"),"hidden"!=q&&l.css("overflow-y","scroll");t(a,n)}B(a,n)}for(var m=f(window),l=null,D=60,s,n=f(),p=f(),r,q,g=navigator.userAgent.toLowerCase(),k=/(msie) ([\w.]+)/.exec(g)||0>g.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(g)||[],g=k[1]||"",k=k[2]||"0",y="msie"==!g||8!=parseInt(k,
10),C="mozilla"==g,u=window.requestAnimationFrame,v=window.cancelRequestAnimationFrame,g=["ms","moz","webkit","o"],k=0;k<g.length&&!u;++k)u=window[g[k]+"RequestAnimationFrame"],v=window[g[k]+"CancelRequestAnimationFrame"];if(u)var w=function(a){u(a)};w||(w=window.setTimeout);v||(v=window.clearTimeout);h.config=function(a,b){switch(a){case "fps":D=b;break;case "vsync":y=b}z=y?function(){h()}:E};h.schedule=function(a,b){if(b||!s)s&&v(s),s=w(function(){h();s=null},a||0)};h.add=function(a){l||(l=f("BODY:first"));
a.layout=f.extend({children:[]},a.layout);a.layout&&a.layout.parent?(a.layout.parent.layout.children||(a.layout.parent.layout.children=[]),a.layout.parent.layout.children.push(a)):n=n.add(f(a));a=f(a);0==p.length&&0<a.length&&f(window).bind("resize",z);p=p.add(a)};h.del=function(a){a=f(a);p=p.not(a);0==p.length&&f(window).unbind("resize",z)};var A=!1,E=function(){if(A)return!1;A=w(function(){h();A=!1},1E3/D)},z=y?function(){h()}:E;"undefined"==typeof OCBNET&&(OCBNET={});OCBNET.Layout=h})(jQuery);
