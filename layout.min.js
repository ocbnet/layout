(function(f){function x(a,b,c){for(var d=0,e=c.length;d<e;d++)f.isFunction(c[d][a])&&c[d][a].call(c[d],b)}function v(a,b){x("preLayout",a,b);for(var c=0,d=b.length;c<d;c++){var e=b[c].layout.children;e&&e.length&&v(a,e)}x("postLayout",a,b)}function C(a,b){x("updateLayout",a,b);for(var c=0,d=b.length;c<d;c++){var e=b[c].layout.children;e&&e.length&&C(a,e)}}function g(a){a={force:a};s&&(l.css("overflow-y",s),s=null);t&&(l.css("overflow-x",t),t=null);var b=p.innerWidth(),c=p.innerHeight();v(a,q);var d=
p.innerWidth(),e=p.innerHeight();if(b!=d||c!=e)if(v(a,q),b=p.innerWidth(),c=p.innerHeight(),d!=b||e!=c){if(D||e!=c)t=l.css("overflow-x"),"hidden"!=t&&l.css("overflow-x","scroll");if(D||d!=b)s=l.css("overflow-y"),"hidden"!=s&&l.css("overflow-y","scroll");v(a,q)}C(a,q)}for(var p=f(window),l=null,y=60,u,q=f(),r=f(),t,s,h=navigator.userAgent.toLowerCase(),k=/(msie) ([\w.]+)/.exec(h)||0>h.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(h)||[],h=k[1]||"",k=k[2]||"0",z="msie"==!h||8!=parseInt(k,
10),D="mozilla"==h,w=window.requestAnimationFrame,m=window.cancelAnimationFrame||window.cancelRequestAnimationFrame,h=["ms","moz","webkit","o"],k=0;k<h.length&&!w;++k)w=window[h[k]+"RequestAnimationFrame"],m=window[h[k]+"CancelAnimationFrame"]||window[h[k]+"CancelRequestAnimationFrame"];if(w)var n=function(a){return w(a)};n||(n=window.setTimeout);m||(m=window.clearTimeout);var F=n,G=m;g.config=function(a,b){switch(a){case "fps":y=b;break;case "vsync":z=b;break;case "default":n=F;m=G;break;case "fallback":n=
window.setTimeout,m=window.clearTimeout}A=z?function(){g()}:E};g.schedule=function(a,b){if(b||!u)u&&m(u),u=n(function(){g();u=null},a||0)};g.defer=function(a,b){"undefined"==typeof b&&(b=1E3/y);return n(a,b)};g.undefer=function(a){return m(a)};g.add=function(a){l||(l=f("BODY:first"));a.layout=f.extend({children:[]},a.layout);a.layout&&a.layout.parent?(a.layout.parent.layout.children||(a.layout.parent.layout.children=[]),a.layout.parent.layout.children.push(a)):q=q.add(f(a));a=f(a);0==r.length&&0<
a.length&&f(window).bind("resize",A);r=r.add(a)};g.del=function(a){a=f(a);r=r.not(a);0==r.length&&f(window).unbind("resize",A)};var B=!1,E=function(){if(B)return!1;B=n(function(){g();B=!1},1E3/y)},A=z?function(){g()}:E;"undefined"==typeof OCBNET&&(OCBNET={});OCBNET.Layout=g})(jQuery);
