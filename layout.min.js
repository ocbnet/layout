(function(c){function y(a,d,u){for(var b=0,f=u.length;b<f;b++)c.isFunction(u[b][a])&&u[b][a].call(u[b],d)}function v(a,d){y("preLayout",a,d);for(var b=0,c=d.length;b<c;b++){var f=d[b].layout.children;f&&f.length&&v(a,f)}y("postLayout",a,d)}function D(a,d){b.initialized=!0;y("updateLayout",a,d);for(var c=0,e=d.length;c<e;c++){var f=d[c].layout.children;f&&f.length&&D(a,f)}}function b(a,d){var e={force:a},g=d?c(d):r;s&&(m.css("overflow-y",s),s=null);t&&(m.css("overflow-x",t),t=null);var f=q.innerWidth(),
k=q.innerHeight();v(e,g);var h=q.innerWidth(),l=q.innerHeight();if(f!=h||k!=l){v(e,g);var n=q.innerWidth(),p=q.innerHeight();if(h!=n||l!=p)f=function(){if(E||l!=p)t=m.css("overflow-x"),"hidden"!=t&&m.css("overflow-x","scroll");if(E||h!=n)s=m.css("overflow-y"),"hidden"!=s&&m.css("overflow-y","scroll")},b.initialized&&f(),v(e,g),b.initialized||f()}D(e,g)}for(var q=c(window),m=null,z=60,l,r=c(),h=c(),t,s,e=navigator.userAgent.toLowerCase(),n=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||
/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||0>e.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],e=n[1]||"",n=n[2]||"0",A="msie"==!e||8!=parseInt(n,10),E="mozilla"==e,w=window.requestAnimationFrame,g=window.cancelAnimationFrame||window.cancelRequestAnimationFrame,x=["ms","moz","webkit","o"],p=0;p<x.length&&!w;++p)w=window[x[p]+"RequestAnimationFrame"],g=window[x[p]+"CancelAnimationFrame"]||window[x[p]+"CancelRequestAnimationFrame"];if(w)var k=function(a){return w(a)};
k||(k=window.setTimeout);g||(g=window.clearTimeout);var G=k,H=g;b.ua={browser:e,version:n};b.config=function(a,d){switch(a){case "fps":z=d;break;case "vsync":A=d;break;case "default":k=G;g=H;break;case "fallback":k=window.setTimeout,g=window.clearTimeout}B=A?function(){b()}:F};b.schedule=function(a,d){if(d||!l)l&&g(l),l=k(function(){b();l=null},a||0)};b.defer=function(a,b){"undefined"==typeof b&&(b=1E3/z);return k(a,b)};b.undefer=function(a){return g(a)};b.add=function(a){m||(m=c("BODY:first"));a.layout=
c.extend({children:[]},a.layout);a.layout&&a.layout.parent?(a.layout.parent.layout.children||(a.layout.parent.layout.children=[]),a.layout.parent.layout.children.push(a)):r=r.add(c(a));c.isFunction(a.startLayout)&&a.startLayout.call(a);a=c(a);0==h.length&&0<a.length&&c(window).bind("resize",B);h=h.add(a)};b.del=function(a){c.isFunction(a.stopLayout)&&a.stopLayout.call(a);a=c(a);h=h.not(a);r=r.not(a);0==h.length&&c(window).unbind("resize",B)};var C=!1,F=function(){if(C)return!1;C=k(function(){b();
C=!1},1E3/z)},B=A?function(){b()}:F;"undefined"==typeof OCBNET&&(window.OCBNET={});OCBNET.Layout=b})(jQuery);
